const client_id="&client_id=Q5PQQNTJS4UGM10I1RWODUVC4XS2PBULBDYZKFLAFECJ4ZIM",client_secret="&client_secret=4TMTXMB4LL35O3GR1QXONNBAJ5OCGZUO5HLWAQQGSHHPZZV2";function identifyCategory(e){let t='0',o='0';'jsCatParks'==e.id?createSearchRequestURI(t='2000',o='4bf58dd8d48988d163941735'):'jsCatBeaches'==e.id?createSearchRequestURI(t='2000',o='4bf58dd8d48988d1e2941735'):'jsCatLookouts'==e.id&&createSearchRequestURI(t='2000',o='4bf58dd8d48988d165941735')}function createSearchRequestURI(e,t){makeSearchRequest('https://api.foursquare.com/v2/venues/search?v=20170901'+client_id+client_secret+"&ll=-36.8786499,174.7602798"+('&radius='+e)+('&categoryId='+t))}function makeSearchRequest(e){fetch(e).then(function(e){return e.json()}).then(function(e){extractNeededData(e.response.venues),console.log(e.response.venues)}).catch(function(){console.log('Houston we have a problem...')})}function extractNeededData(e){const t=[],o=[];e.forEach(e=>{o.push(e.location.lat+','+e.location.lng),t.push({name:e.name,id:e.id,latlng:o})}),plotMarkers(t),console.log(t)}const jsCatDropdown=document.getElementById('jsCatDropdown'),jsCatTrending=document.getElementById('jsCatTrending'),jsCatParks=document.getElementById('jsCatParks'),jsCatBeaches=document.getElementById('jsCatBeaches'),jsCatLookouts=document.getElementById('jsCatLookouts'),jsModalLongTitle=document.getElementById('jsModalLongTitle'),jsVenueDescription=document.getElementById('jsVenueDescription'),jsVenueWebsite=document.getElementById('jsVenueWebsite'),jsMiniMap=document.getElementById('jsMiniMap');function createMap(e){jsCatDropdown.addEventListener('click',e=>{identifyCategory(e.target)});let t=[-36.8977931,174.7854973],o=L.map('mapid').setView(t,e);L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidGhhbHl4OTAiLCJhIjoiY2o2YjdrZHRlMWJmYjJybDd2cW1rYnVnNSJ9.j_DQLfixHfhioVjH6qmqkw',{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:'mapbox.streets',accessToken:'pk.eyJ1IjoibmlraXRhaG9pbmVzIiwiYSI6ImNqc203cHN5NDEwaGg0OXBpYnE0aXhhZmYifQ.58l8dUZg4uiFn7BYnZCJFA'}).addTo(o),L.circle(t,{radius:21500,color:'salmon',weight:1,fill:!0}).addTo(o),modal()}function plotMarkers(e){e.forEach(function(e){var t=L.icon({iconUrl:'img/beach.png',iconSize:[72,72],popupAnchor:[0,-36]});L.marker(e.latlng,{icon:t}).addTo(mymap).bindPopup('<div>'+e.name+'</div>')})}function modal(){$('#modalCenter').on('shown.bs.modal',function(){let e=L.map('jsMiniMap',{scrollWheelZoom:!1}).setView([-36.8977931,174.7854973],17);L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:'mapbox.streets',accessToken:'pk.eyJ1IjoibmlraXRhaG9pbmVzIiwiYSI6ImNqc203cHN5NDEwaGg0OXBpYnE0aXhhZmYifQ.58l8dUZg4uiFn7BYnZCJFA'}).addTo(e)})}$(function(){if($(window).width()<768){let e=10;console.log('less than 768'),createMap(e)}else{let e=11;console.log('more than 768'),createMap(e)}}),$('.carousel').carousel();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiY2xpZW50X2lkIiwiY2xpZW50X3NlY3JldCIsImlkZW50aWZ5Q2F0ZWdvcnkiLCJlIiwiY2hvc2VuUmFkaXVzIiwiY2hvc2VuQ2F0ZWdvcnkiLCJpZCIsImNyZWF0ZVNlYXJjaFJlcXVlc3RVUkkiLCJyYWQiLCJjYXQiLCJtYWtlU2VhcmNoUmVxdWVzdCIsInVyaSIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsIm15SnNvbiIsImV4dHJhY3ROZWVkZWREYXRhIiwidmVudWVzIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZGF0YSIsInZlbnVlc0Zvck1hcCIsImxhdGxvbmciLCJmb3JFYWNoIiwidmVudWUiLCJwdXNoIiwibG9jYXRpb24iLCJsYXQiLCJsbmciLCJuYW1lIiwibGF0bG5nIiwicGxvdE1hcmtlcnMiLCJqc0NhdERyb3Bkb3duIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImpzQ2F0VHJlbmRpbmciLCJqc0NhdFBhcmtzIiwianNDYXRCZWFjaGVzIiwianNDYXRMb29rb3V0cyIsImpzTW9kYWxMb25nVGl0bGUiLCJqc1ZlbnVlRGVzY3JpcHRpb24iLCJqc1ZlbnVlV2Vic2l0ZSIsImpzTWluaU1hcCIsImNyZWF0ZU1hcCIsInoiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY2VudGVyIiwibXltYXAiLCJMIiwibWFwIiwic2V0VmlldyIsInRpbGVMYXllciIsImF0dHJpYnV0aW9uIiwibWF4Wm9vbSIsImFjY2Vzc1Rva2VuIiwiYWRkVG8iLCJjaXJjbGUiLCJyYWRpdXMiLCJjb2xvciIsIndlaWdodCIsImZpbGwiLCJtb2RhbCIsInYiLCJzZXJ2aWNlSWNvbiIsImljb24iLCJpY29uVXJsIiwiaWNvblNpemUiLCJwb3B1cEFuY2hvciIsIm1hcmtlciIsImJpbmRQb3B1cCIsIiQiLCJvbiIsIm1pbmlNYXAiLCJzY3JvbGxXaGVlbFpvb20iLCJ3aW5kb3ciLCJ3aWR0aCIs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VWtDLE9BRVQsQ0FDRixJQUFJQSxFQUFPLEdBQ1g1RCxRQUFRQyxJQUFJLGlCQUNaeUIsVUFBVWtDLE1Bc0ZkTixFQUFFLGFBQWFPIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGb3Vyc3F1YXJlIEFQSSBDcmVkZW50aWFscyAtIFRpbVxuY29uc3QgY2xpZW50X2lkID0gJyZjbGllbnRfaWQ9JyArICdRNVBRUU5USlM0VUdNMTBJMVJXT0RVVkM0WFMyUEJVTEJEWVpLRkxBRkVDSjRaSU0nO1xuY29uc3QgY2xpZW50X3NlY3JldCA9ICcmY2xpZW50X3NlY3JldD0nICsgJzRUTVRYTUI0TEwzNU8zR1IxUVhPTk5CQUo1T0NHWlVPNUhMV0FRUUdTSEhQWlpWMic7XG5cbi8vIC8vIEZvdXJzcXVhcmUgQVBJIENyZWRlbnRpYWxzIC0gTmlraXRhXG4vLyBjb25zdCBjbGllbnRfaWQgPSAnJmNsaWVudF9pZD0nICsgJzJGMUpFQkdCWFdVQ0NLMVZTNU9aQUZUMkJFTFIxNU9DVk9CUkRFVkNKRktRTkRHTSc7XG4vLyBjb25zdCBjbGllbnRfc2VjcmV0ID0gJyZjbGllbnRfc2VjcmV0PScgKyAnVUlLMkJPSkZaMU9FWkpSQklNVzM1U09HUkIxTEZFVEpWV0lDQkFWQkU0SkpWQ0pQJztcblxuLy8gLy8gRm91cnNxdWFyZSBBUEkgQ3JlZGVudGlhbHMgLSBMb3VlbGxhXG4vLyBjb25zdCBjbGllbnRfaWQgPSAnJmNsaWVudF9pZD0nICsgJ0pTQkNMVUtTQUczQkQwRDFCT0lSTkFFTUtXVFFZMFA0MDFMSkNZRVRRUVhCUzNXMCc7XG4vLyBjb25zdCBjbGllbnRfc2VjcmV0ID0gJyZjbGllbnRfc2VjcmV0PScgKyAnSFNSUFJTUDFTUUpXVEczTk4yRU9CUENBU0hPNTJTQk9VNFpQRlhPSlBaWUlMM0RLJztcbi8vIFN0ZXAgMiAtIExpbmsgdGhlIGh0bWwgZWxlbWVudCB0byB0aGUgZm91cnNxdWFyZSBjYXRlZ29yeSBJRFxuZnVuY3Rpb24gaWRlbnRpZnlDYXRlZ29yeShlKSB7XG4gIC8vIGRlY2xhcmUgdmFyaWFibGVzXG4gIGxldCBjaG9zZW5SYWRpdXMgPSAnMCc7XG4gIGxldCBjaG9zZW5DYXRlZ29yeSA9ICcwJztcbiAgLy8gc2ltcGxlIGNvbmRpdGlvbmFsIHRvIG1hdGNoIHRoZSBET00gZWxlbWVudCB0byB0aGUgYXBpIElEXG4gIGlmIChlLmlkID09ICdqc0NhdFBhcmtzJykge1xuICAgIGNob3NlblJhZGl1cyA9ICcyMDAwJztcbiAgICBjaG9zZW5DYXRlZ29yeSA9ICc0YmY1OGRkOGQ0ODk4OGQxNjM5NDE3MzUnO1xuICAgIGNyZWF0ZVNlYXJjaFJlcXVlc3RVUkkoY2hvc2VuUmFkaXVzLCBjaG9zZW5DYXRlZ29yeSk7XG5cbiAgfSBlbHNlIGlmIChlLmlkID09ICdqc0NhdEJlYWNoZXMnKSB7XG4gICAgY2hvc2VuUmFkaXVzID0gJzIwMDAnO1xuICAgIGNob3NlbkNhdGVnb3J5ID0gJzRiZjU4ZGQ4ZDQ4OTg4ZDFlMjk0MTczNSc7XG4gICAgY3JlYXRlU2VhcmNoUmVxdWVzdFVSSShjaG9zZW5SYWRpdXMsIGNob3NlbkNhdGVnb3J5KTtcblxuICB9IGVsc2UgaWYgKGUuaWQgPT0gJ2pzQ2F0TG9va291dHMnKSB7XG4gICAgY2hvc2VuUmFkaXVzID0gJzIwMDAnO1xuICAgIGNob3NlbkNhdGVnb3J5ID0gJzRiZjU4ZGQ4ZDQ4OTg4ZDE2NTk0MTczNSc7XG4gICAgY3JlYXRlU2VhcmNoUmVxdWVzdFVSSShjaG9zZW5SYWRpdXMsIGNob3NlbkNhdGVnb3J5KTtcbiAgfVxufVxuXG5cbi8vIFN0ZXAgMyAtIENyZWF0ZSB0aGUgc2VhcmNoIHF1ZXJ5IHJlcXVlc3QgdXJpXG5mdW5jdGlvbiBjcmVhdGVTZWFyY2hSZXF1ZXN0VVJJKHJhZCwgY2F0KSB7XG4gIGNvbnN0IGJhc2VVUkkgPSAnaHR0cHM6Ly9hcGkuZm91cnNxdWFyZS5jb20vdjIvdmVudWVzL3NlYXJjaD92PTIwMTcwOTAxJztcbiAgLy8gY29uc3QgY2xpZW50X2lkID0gJyZjbGllbnRfaWQ9JyArICdRNVBRUU5USlM0VUdNMTBJMVJXT0RVVkM0WFMyUEJVTEJEWVpLRkxBRkVDSjRaSU0nO1xuICAvLyBjb25zdCBjbGllbnRfc2VjcmV0ID0gJyZjbGllbnRfc2VjcmV0PScgKyAnNFRNVFhNQjRMTDM1TzNHUjFRWE9OTkJBSjVPQ0daVU81SExXQVFRR1NISFBaWlYyJztcbiAgY29uc3QgbGF0bG9uZyA9ICcmbGw9JyArICctMzYuODc4NjQ5OSwxNzQuNzYwMjc5OCc7XG4gIC8vIFRoaXMgdmFsdWUgd2lsbCBiZSBhIHZhcmlhYmxlXG4gIGNvbnN0IHJhZGl1cyA9ICcmcmFkaXVzPScgKyByYWQ7XG4gIC8vIFRoaXMgdmFsdWUgd2lsbCBiZSBhIHZhcmlhYmxlXG4gIGNvbnN0IGNhdGVnb3J5SWQgPSAnJmNhdGVnb3J5SWQ9JyArIGNhdDtcbiAgLy8gUHV0IGFsbCB0aGUgcGllY2VzIHRvZ2V0aGVyXG4gIGNvbnN0IHJlcXVlc3RVUkkgPSBiYXNlVVJJICsgY2xpZW50X2lkICsgY2xpZW50X3NlY3JldCArIGxhdGxvbmcgKyByYWRpdXMgKyBjYXRlZ29yeUlkO1xuICBcbiAgbWFrZVNlYXJjaFJlcXVlc3QocmVxdWVzdFVSSSk7XG59XG5cblxuLy8gU3RlcCA0IC0gTWFrZSB0aGUgYWN0dWFsIHJlcXVlc3RcbmZ1bmN0aW9uIG1ha2VTZWFyY2hSZXF1ZXN0KHVyaSkge1xuICBmZXRjaCh1cmkpXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbihteUpzb24pIHtcbiAgICAgIGV4dHJhY3ROZWVkZWREYXRhKG15SnNvbi5yZXNwb25zZS52ZW51ZXMpO1xuICAgICAgY29uc29sZS5sb2cobXlKc29uLnJlc3BvbnNlLnZlbnVlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAvLyBDb2RlIGZvciBoYW5kbGluZyBlcnJvcnNcbiAgICAgIGNvbnNvbGUubG9nKCdIb3VzdG9uIHdlIGhhdmUgYSBwcm9ibGVtLi4uJyk7XG4gICAgfSk7XG59XG5cblxuLy8gU3RlcCA1IC0gRXh0cmFjdCB0aGUgZGF0YSB3ZSBhcmUgdXNpbmcgZnJvbSB0aGUganNvbiByZXNwb25zZVxuZnVuY3Rpb24gZXh0cmFjdE5lZWRlZERhdGEoZGF0YSkge1xuXG4gIC8vIGRlY2xhcmUgZW1wdHkgYXJyYXlcbiAgY29uc3QgdmVudWVzRm9yTWFwID0gW107XG4gIC8vIGRlY2xhcmUgYXJyYXkgZm9yIGxhdCBhbmQgbG9uZ1xuICBjb25zdCBsYXRsb25nID0gW107XG5cbiAgLy8gTG9vcCB0aHJvdWdoIGpzb24gcmVzcG9uc2VcbiAgZGF0YS5mb3JFYWNoKHZlbnVlID0+IHtcblxuICAgIC8vIFB1c2ggbGF0aXR1ZGUgYW5kIGxvbmcgaW50byB0aGVpciBhcnJheVxuICAgIGxhdGxvbmcucHVzaCh2ZW51ZS5sb2NhdGlvbi5sYXQgKyAnLCcgKyB2ZW51ZS5sb2NhdGlvbi5sbmcpO1xuXG4gICAgLy8gUHVzaCB0aGUgbmFtZSwgSUQsIGFuZCBsYXRsbmcgaW50byBhbiBhcnJheSB0byB1c2UgZm9yIHRoZSBtYXBcbiAgICB2ZW51ZXNGb3JNYXAucHVzaCh7XG4gICAgICBuYW1lOiB2ZW51ZS5uYW1lLFxuICAgICAgaWQ6IHZlbnVlLmlkLFxuICAgICAgbGF0bG5nOiBsYXRsb25nXG4gICAgfSk7XG4gIH0pO1xuXG4gIHBsb3RNYXJrZXJzKHZlbnVlc0Zvck1hcCk7XG4gIGNvbnNvbGUubG9nKHZlbnVlc0Zvck1hcCk7XG59XG5cblxuICBcbi8vIFRpbSdzIHdvcmsgU1RBUlRcbi8vIENhdGVnb3JpZXM6XG4vLyBQYXJrczogNGJmNThkZDhkNDg5ODhkMTYzOTQxNzM1XG4vLyBCZWFjaGVzOiA0YmY1OGRkOGQ0ODk4OGQxZTI5NDE3MzVcbi8vIFBvb2xzOiA0YmY1OGRkOGQ0ODk4OGQxNWU5NDE3MzVcbi8vIFNjZW5pYyBMb29rb3V0OiA0YmY1OGRkOGQ0ODk4OGQxNjU5NDE3MzVcbi8vIFNrYXRlIFBhcms6IDRiZjU4ZGQ4ZDQ4OTg4ZDE2Nzk0MTczNVxuXG5cbi8vIElkZW50aWZpZXJzXG4vLyBFdmVyeSBJRCBwcmVmaXhlZCB3aXRoICdqcycgaXMgYSBET00gZWxlbWVudFxuY29uc3QganNDYXREcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc0NhdERyb3Bkb3duJyk7XG5jb25zdCBqc0NhdFRyZW5kaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzQ2F0VHJlbmRpbmcnKTtcbmNvbnN0IGpzQ2F0UGFya3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNDYXRQYXJrcycpO1xuY29uc3QganNDYXRCZWFjaGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzQ2F0QmVhY2hlcycpO1xuY29uc3QganNDYXRMb29rb3V0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc0NhdExvb2tvdXRzJyk7XG4vLyBUaW0ncyB3b3JrIEVORFxuXG5cbi8vIExvdWVsbGEncyBXb3JrIFNUQVJUIC0gTW9kYWwgcG9wIHVwXG5jb25zdCBqc01vZGFsTG9uZ1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzTW9kYWxMb25nVGl0bGUnKTtcbmNvbnN0IGpzVmVudWVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc1ZlbnVlRGVzY3JpcHRpb24nKTtcbmNvbnN0IGpzVmVudWVXZWJzaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzVmVudWVXZWJzaXRlJyk7XG5jb25zdCBqc01pbmlNYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNNaW5pTWFwJyk7XG4vLyBMb3VlbGxhJ3MgV29yayBFTkQgLSBNb2RhbCBwb3AgdXBcblxuXG4kKGZ1bmN0aW9uKCl7XG5cbi8vIERldGVjdCBzY3JlZW4gd2lkdGggYW5kIGNoYW5nZSB6b29tIGFjY29yZGluZ2x5IC0gYnkgTmlraXRhXG5cdGxldCB6b29tID0gMTE7XG5cblx0aWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICBcdFx0bGV0IHpvb20gPSAxMDtcbiAgIFx0XHRjb25zb2xlLmxvZygnbGVzcyB0aGFuIDc2OCcpO1xuICAgXHRcdGNyZWF0ZU1hcCh6b29tKTtcblx0fVxuXHRlbHNlIHtcblx0ICAgbGV0IHpvb20gPSAxMTtcblx0ICAgY29uc29sZS5sb2coJ21vcmUgdGhhbiA3NjgnKTtcblx0ICAgY3JlYXRlTWFwKHpvb20pO1xuXHR9O1xufSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcCh6KSB7XG5cbiAgLy8gaWRlbnRpZnkgdGhlIGV2ZW50IHRhcmdldFxuanNDYXREcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIGlkZW50aWZ5Q2F0ZWdvcnkoZS50YXJnZXQpO1xufSk7XG5cblxuLy8gTWFwIHdvcmsgYnkgTmlraXRhIFNUQVJUXG5sZXQgY2VudGVyID0gWy0zNi44OTc3OTMxLCAxNzQuNzg1NDk3M107XG5sZXQgbXltYXAgPSBMLm1hcCgnbWFwaWQnKS5zZXRWaWV3KGNlbnRlciwgeik7XG5cbkwudGlsZUxheWVyKCdodHRwczovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3tpZH0ve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj1way5leUoxSWpvaWRHaGhiSGw0T1RBaUxDSmhJam9pWTJvMllqZHJaSFJsTVdKbVlqSnliRGQyY1cxclluVm5OU0o5LmpfRFFMZml4SGZoaW9Wakg2cW1xa3cnLCB7XG4gICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL1wiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgPGEgaHJlZj1cImh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjAvXCI+Q0MtQlktU0E8L2E+LCBJbWFnZXJ5IMKpIDxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL1wiPk1hcGJveDwvYT4nLFxuICAgIG1heFpvb206IDE4LFxuICAgIGlkOiAnbWFwYm94LnN0cmVldHMnLFxuICAgIGFjY2Vzc1Rva2VuOiAncGsuZXlKMUlqb2libWxyYVhSaGFHOXBibVZ6SWl3aVlTSTZJbU5xYzIwM2NITjVOREV3YUdnME9YQnBZbkUwYVhoaFptWWlmUS41OGw4ZFVaZzR1aUZuN0JZblpDSkZBJ1xufSkuYWRkVG8obXltYXApO1xuXG4vLyByYWRpdXNcbkwuY2lyY2xlKGNlbnRlciwge1xuXHRcdHJhZGl1czogMjE1MDAsXG5cdFx0Y29sb3I6ICdzYWxtb24nLFxuXHRcdHdlaWdodDogMSxcblx0XHRmaWxsOiB0cnVlXG5cdH0pLmFkZFRvKG15bWFwKTtcblxuLy8gTWFwIHdvcmsgYnkgTmlraXRhIEVORFxuXG5cbi8vTG91ZWxsYVxubW9kYWwoKTtcblxufTtcbi8vIG5pa2l0YSAtIHB1dHRpbmcgbWFya2VycyBvbiB0aGUgbWFwXG5mdW5jdGlvbiBwbG90TWFya2Vycyh2KXtcblxudi5mb3JFYWNoKGZ1bmN0aW9uKHZlbnVlKSB7XG5cdFx0dmFyIHNlcnZpY2VJY29uID0gTC5pY29uKHtcblx0XHRcdGljb25Vcmw6ICdpbWcvYmVhY2gucG5nJyxcblx0XHRcdGljb25TaXplOiBbIDcyICwgNzIgXSxcblx0XHRcdHBvcHVwQW5jaG9yOiBbIDAgLCAtMzYgXVxuXHRcdH0pO1xuXHRcdHZhciBtYXJrZXIgPSBMLm1hcmtlcih2ZW51ZS5sYXRsbmcse2ljb246c2VydmljZUljb259KS5hZGRUbyhteW1hcCk7XG5cdFx0bWFya2VyLmJpbmRQb3B1cCgnPGRpdj4nICsgdmVudWUubmFtZSArICc8L2Rpdj4nKVxuXHRcdFxuXHR9KTtcdFxufTtcblxuXG4vL1dvcmsgZnJvbSBMb3VlbGxhXG5cbi8vIGZvdXJzcXVhcmUgT2F1dGhcbi8vIGNvbnN0IHZlcnNpb24gPSAnP3Y9MjAxNzA5MDEnO1xuLy8gY29uc3QgY2xpZW50aWQgPSAnJmNsaWVudF9pZD1KU0JDTFVLU0FHM0JEMEQxQk9JUk5BRU1LV1RRWTBQNDAxTEpDWUVUUVFYQlMzVzAnO1xuLy8gY29uc3QgY2xpZW50U2VjcmV0ID0gJyZjbGllbnRfc2VjcmV0PUhTUlBSU1AxU1FKV1RHM05OMkVPQlBDQVNITzUyU0JPVTRaUEZYT0pQWllJTDNESyc7XG4vLyBjb25zdCBrZXkgPSB2ZXJzaW9uICsgY2xpZW50aWQgKyBjbGllbnRTZWNyZXQ7XG5cbi8vIGNvbnN0IHZlbnVlSWQgPSAnNTlhNDU5MjEzNTFlM2Q0M2IwNzAyOGI1Jztcbi8vIGNvbnN0IHZlbnVlVXJsID0gJ2h0dHBzOi8vYXBpLmZvdXJzcXVhcmUuY29tL3YyL3ZlbnVlcy8nICsgdmVudWVJZDtcblxuXG4vLyBMb2FkIG1vZGFsXG5mdW5jdGlvbiBtb2RhbCgpIHtcbiAgICAkKCcjbW9kYWxDZW50ZXInKS5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEluc2VydCBNaW5pIG1hcFxuICAgICAgICAvLyBodHRwczovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLTEuMC4wLmh0bWxcbiAgICAgICAgbGV0IHVzZXJMb2NhdGlvbiA9IFstMzYuODk3NzkzMSwgMTc0Ljc4NTQ5NzNdO1xuICAgICAgICBsZXQgbWluaU1hcCA9IEwubWFwKCdqc01pbmlNYXAnLCB7XG4gICAgICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlXG4gICAgICAgIH0pLnNldFZpZXcodXNlckxvY2F0aW9uLCAxNyk7XG5cbiAgICAgICAgTC50aWxlTGF5ZXIoJ2h0dHBzOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQve2lkfS97en0ve3h9L3t5fS5wbmc/YWNjZXNzX3Rva2VuPXthY2Nlc3NUb2tlbn0nLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ01hcCBkYXRhICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvXCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLCA8YSBocmVmPVwiaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzIuMC9cIj5DQy1CWS1TQTwvYT4sIEltYWdlcnkgwqkgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCI+TWFwYm94PC9hPicsXG4gICAgICAgICAgICBtYXhab29tOiAxOCxcbiAgICAgICAgICAgIGlkOiAnbWFwYm94LnN0cmVldHMnLFxuICAgICAgICAgICAgYWNjZXNzVG9rZW46ICdway5leUoxSWpvaWJtbHJhWFJoYUc5cGJtVnpJaXdpWVNJNkltTnFjMjAzY0hONU5ERXdhR2cwT1hCcFluRTBhWGhoWm1ZaWZRLjU4bDhkVVpnNHVpRm43QlluWkNKRkEnXG4gICAgICAgIH0pLmFkZFRvKG1pbmlNYXApO1xuICAgIH0pO1xufVxuXG4vLyBMb2FkIENhcm91c2VsXG4kKCcuY2Fyb3VzZWwnKS5jYXJvdXNlbCgpO1xuXG5cbi8vIEFqYXggcmVxdWVzdCB0byBhIHNwZWNpZmljIHZlbnVlXG4vLyBsZXQgdmVudWVVcmwgPSAnaHR0cHM6Ly9hcGkuZm91cnNxdWFyZS5jb20vdjIvdmVudWVzL2V4cGxvcmUnICsga2V5ICsgJyZsbD0tMzYuODQ0NjE1Mjg3MzA1NSAsIDE3NC43NjY2MjM5NzM4NDY0NCcgKyAnJnJhZGl1cz02MCc7XG4vLyAkLmFqYXgoe1xuXG4vLyBcdHVybDogdmVudWVVcmwsXG4vLyBcdGRhdGFUeXBlOiAnanNvbnAnLFxuXG4vLyBcdC8vIGxldCdzIHNob3cgYSBsaXR0bGUgcHJlbG9hZGVyIHRvIHRoZSB1c2VyIHdoaWxlIHRoZXkgd2FpdCBmb3IgYSBuaWNlIFVzZXIgRXhwZXJpZW5jZVxuLy8gXHRiZWZvcmVTZW5kOiBmdW5jdGlvbihyZXMpIHtcbi8vIFx0XHQkKCc8ZGl2IGNsYXNzPVwicHJlLWxvYWRlclwiPiAuLi4gbG9hZGluZyBwb3J0Zm9saW8gLi4uIDwvZGl2PicpLnByZXBlbmRUbygnYm9keScpO1xuLy8gXHR9LFxuXG4vLyBcdC8vIHdoZW4gdGhlIGFqYXggcmVxdWVzdCBpcyBjb21wbGV0ZSBkbyBhbGwgb2YgdGhlc2UgdGhpbmdzXG4vLyBcdHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuXG4vLyBcdFx0Y29uc29sZS5sb2cocmVzKTtcblxuLy8gXHRcdC8vIFN1Y2Nlc3MhIFdlIGNhbiBnZXQgcmlkIG9mIHRoZSBwcmVsb2FkZXIgbm93Li4uXG4vLyBcdFx0JCgnLnByZS1sb2FkZXInKS5kZXRhY2goKTtcblxuXG4vLyBcdH0sXG5cbi8vIFx0Ly8gaWYgdGhlIGFqYXggcmVxdWVzdCBmYWlscyBkbyB0aGVzZSB0aGluZ3MgYXMgYSBmYWxsYmFja1xuLy8gXHRlcnJvcjogZnVuY3Rpb24ocmVzKSB7XG4vLyBcdFx0JCgnPGgxPiBFcnJvciEhIDwvaDE+JykuYXBwZW5kVG8oJ2JvZHknKTtcbi8vIFx0fVxuXG4vLyB9KTsgLy8gRU5EIGFqYXggcmVxdWVzdFxuIl19
