const client_id="&client_id=Q5PQQNTJS4UGM10I1RWODUVC4XS2PBULBDYZKFLAFECJ4ZIM",client_secret="&client_secret=4TMTXMB4LL35O3GR1QXONNBAJ5OCGZUO5HLWAQQGSHHPZZV2";function identifyCategory(e){let t='0',a='0';'jsCatParks'==e.id?createSearchRequestURI(t='2000',a='4bf58dd8d48988d163941735'):'jsCatBeaches'==e.id?createSearchRequestURI(t='2000',a='4bf58dd8d48988d1e2941735'):'jsCatLookouts'==e.id&&createSearchRequestURI(t='2000',a='4bf58dd8d48988d165941735')}function createSearchRequestURI(e,t){makeSearchRequest('https://api.foursquare.com/v2/venues/search?v=20170901'+client_id+client_secret+"&ll=-36.8786499,174.7602798"+('&radius='+e)+('&categoryId='+t))}function makeSearchRequest(e){fetch(e).then(function(e){return e.json()}).then(function(e){extractNeededData(e.response.venues)}).catch(function(e){console.log(e)})}function extractNeededData(e){const t=[];e.forEach(e=>{t.push({name:e.name,id:e.id,latlng:[e.location.lat,e.location.lng]})}),createMap(t)}const jsCatDropdown=document.getElementById('jsCatDropdown'),jsCatTrending=document.getElementById('jsCatTrending'),jsCatParks=document.getElementById('jsCatParks'),jsCatBeaches=document.getElementById('jsCatBeaches'),jsCatLookouts=document.getElementById('jsCatLookouts');let mymap,zoom=0;const jsModalLongTitle=document.getElementById('jsModalLongTitle'),jsVenueDescription=document.getElementById('jsVenueDescription'),jsVenueWebsite=document.getElementById('jsVenueWebsite'),jsMiniMap=document.getElementById('jsMiniMap');function detectScreenWidth(){if($(window).width()<768){let e=10;return console.log('screen size is less than 768px'),e}{let e=11;return console.log('screen size is less than 768px'),e}}function createInitialMap(){let e=detectScreenWidth(),t=[-36.8977931,174.7854973];mymap=L.map('mapid').setView(t,e),L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidGhhbHl4OTAiLCJhIjoiY2o2YjdrZHRlMWJmYjJybDd2cW1rYnVnNSJ9.j_DQLfixHfhioVjH6qmqkw',{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:'mapbox.streets',accessToken:'pk.eyJ1IjoibmlraXRhaG9pbmVzIiwiYSI6ImNqc203cHN5NDEwaGg0OXBpYnE0aXhhZmYifQ.58l8dUZg4uiFn7BYnZCJFA'}).addTo(mymap),L.circle(t,{radius:21500,color:'salmon',weight:1,fill:!0}).addTo(mymap)}function createMap(e){let t=detectScreenWidth();mymap&&mymap.remove();let a=[-36.8977931,174.7854973];mymap=L.map('mapid').setView(a,t),L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidGhhbHl4OTAiLCJhIjoiY2o2YjdrZHRlMWJmYjJybDd2cW1rYnVnNSJ9.j_DQLfixHfhioVjH6qmqkw',{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:'mapbox.streets',accessToken:'pk.eyJ1IjoibmlraXRhaG9pbmVzIiwiYSI6ImNqc203cHN5NDEwaGg0OXBpYnE0aXhhZmYifQ.58l8dUZg4uiFn7BYnZCJFA'}).addTo(mymap),L.circle(a,{radius:21500,color:'salmon',weight:1,fill:!0}).addTo(mymap),e.forEach(function(e){try{var t=L.icon({iconUrl:'../build/img/pin.svg',iconSize:[72,72],popupAnchor:[0,-36]});L.marker(e.latlng,{icon:t}).addTo(mymap).bindPopup('<div>'+e.name+'</div>')}catch(e){console.log(e)}}),modal()}function modal(){$('#modalCenter').on('shown.bs.modal',function(){let e=L.map('jsMiniMap',{scrollWheelZoom:!1}).setView([-36.8977931,174.7854973],17);L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:'mapbox.streets',accessToken:'pk.eyJ1IjoibmlraXRhaG9pbmVzIiwiYSI6ImNqc203cHN5NDEwaGg0OXBpYnE0aXhhZmYifQ.58l8dUZg4uiFn7BYnZCJFA'}).addTo(e)})}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM ready!"),jsCatDropdown.addEventListener('click',e=>{identifyCategory(e.target)}),createInitialMap()}),$('.carousel').carousel();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiY2xpZW50X2lkIiwiY2xpZW50X3NlY3JldCIsImlkZW50aWZ5Q2F0ZWdvcnkiLCJlIiwiY2hvc2VuUmFkaXVzIiwiY2hvc2VuQ2F0ZWdvcnkiLCJpZCIsImNyZWF0ZVNlYXJjaFJlcXVlc3RVUkkiLCJyYWQiLCJjYXQiLCJtYWtlU2VhcmNoUmVxdWVzdCIsInVyaSIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsIm15SnNvbiIsImV4dHJhY3ROZWVkZWREYXRhIiwidmVudWVzIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwidmVudWVzRm9yTWFwIiwiZm9yRWFjaCIsInZlbnVlIiwicHVzaCIsIm5hbWUiLCJsYXRsbmciLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImNyZWF0ZU1hcCIsImpzQ2F0RHJvcGRvd24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwianNDYXRUcmVuZGluZyIsImpzQ2F0UGFya3MiLCJqc0NhdEJlYWNoZXMiLCJqc0NhdExvb2tvdXRzIiwibXltYXAiLCJ6b29tIiwianNNb2RhbExvbmdUaXRsZSIsImpzVmVudWVEZXNjcmlwdGlvbiIsImpzVmVudWVXZWJzaXRlIiwianNNaW5pTWFwIiwiZGV0ZWN0U2NyZWVuV2lkdGgiLCIkIiwid2luZG93Iiwid2lkdGgiLCJjcmVhdGVJbml0aWFsTWFwIiwieiIsImNlbnRlciIsIkwiLCJtYXAiLCJzZXRWaWV3IiwidGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJtYXhab29tIiwiYWNjZXNzVG9rZW4iLCJhZGRUbyIsImNpcmNsZSIsInJhZGl1cyIsImNvbG9yIiwid2VpZ2h0IiwiZmlsbCIsInYiLCJyZW1vdmUiLCJzZXJ2aWNlSWNvbiIsImljb24iLCJpY29uVXJsIiwiaWNvblNpemUiLCJwb3B1cEFuY2hvciIsIm1hcmtlciIsImJpbmRQb3B1cCIsIm1vZGFsIiwib24iLCJtaW5pTWFwIiwic2Nyb2xs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QVEsQ0FBRXlDLEtBQU1ELElBQWVSLE1BQU1wQixPQUMxRGtDLFVBQVUsUUFBVWpELEVBQU1FLEtBQU8sVUFFeEMsTUFBT1IsR0FDUEMsUUFBUUMsSUFBSUYsTUFLZndELFFBaUJILFNBQVNBLFFBQ0w1QixFQUFFLGdCQUFnQjZCLEdBQUcsaUJBQWtCLFdBR25DLElBQ0lDLEVBQVV4QixFQUFFQyxJQUFJLFlBQWEsQ0FDN0J3QixpQkFBaUIsSUFDbEJ2QixRQUhnQixFQUFFLFdBQVksYUFHUixJQUV6QkYsRUFBRUcsVUFBVSxrRkFBbUYsQ0FDM0ZDLFlBQWEsME5BQ2JDLFFBQVMsR0FDVHJELEdBQUksaUJBQ0pzRCxZQUFhLHFHQUNkQyxNQUFNaUIsS0FwSWpCM0MsU0FBUzZDLGlCQUFpQixtQkFBb0IsS0FDNUMzRCxRQUFRQyxJQUFJLGNBR1pZLGNBQWM4QyxpQkFBaUIsUUFBVTdFLElBQ3ZDRCxpQkFBaUJDLEVBQUU4RSxVQUlyQjlCLHFCQWdJRkgsRUFBRSxhQUFha0MiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZvdXJzcXVhcmUgQVBJIENyZWRlbnRpYWxzIC0gVGltXG5jb25zdCBjbGllbnRfaWQgPSAnJmNsaWVudF9pZD0nICsgJ1E1UFFRTlRKUzRVR00xMEkxUldPRFVWQzRYUzJQQlVMQkRZWktGTEFGRUNKNFpJTSc7XG5jb25zdCBjbGllbnRfc2VjcmV0ID0gJyZjbGllbnRfc2VjcmV0PScgKyAnNFRNVFhNQjRMTDM1TzNHUjFRWE9OTkJBSjVPQ0daVU81SExXQVFRR1NISFBaWlYyJztcblxuLy8gLy8gRm91cnNxdWFyZSBBUEkgQ3JlZGVudGlhbHMgLSBOaWtpdGFcbi8vIGNvbnN0IGNsaWVudF9pZCA9ICcmY2xpZW50X2lkPScgKyAnMkYxSkVCR0JYV1VDQ0sxVlM1T1pBRlQyQkVMUjE1T0NWT0JSREVWQ0pGS1FOREdNJztcbi8vIGNvbnN0IGNsaWVudF9zZWNyZXQgPSAnJmNsaWVudF9zZWNyZXQ9JyArICdVSUsyQk9KRloxT0VaSlJCSU1XMzVTT0dSQjFMRkVUSlZXSUNCQVZCRTRKSlZDSlAnO1xuXG4vLyAvLyBGb3Vyc3F1YXJlIEFQSSBDcmVkZW50aWFscyAtIExvdWVsbGFcbi8vIGNvbnN0IGNsaWVudF9pZCA9ICcmY2xpZW50X2lkPScgKyAnSlNCQ0xVS1NBRzNCRDBEMUJPSVJOQUVNS1dUUVkwUDQwMUxKQ1lFVFFRWEJTM1cwJztcbi8vIGNvbnN0IGNsaWVudF9zZWNyZXQgPSAnJmNsaWVudF9zZWNyZXQ9JyArICdIU1JQUlNQMVNRSldURzNOTjJFT0JQQ0FTSE81MlNCT1U0WlBGWE9KUFpZSUwzREsnO1xuLy8gU3RlcCAyIC0gTGluayB0aGUgaHRtbCBlbGVtZW50IHRvIHRoZSBmb3Vyc3F1YXJlIGNhdGVnb3J5IElEXG5mdW5jdGlvbiBpZGVudGlmeUNhdGVnb3J5KGUpIHtcbiAgLy8gZGVjbGFyZSB2YXJpYWJsZXNcbiAgbGV0IGNob3NlblJhZGl1cyA9ICcwJztcbiAgbGV0IGNob3NlbkNhdGVnb3J5ID0gJzAnO1xuICAvLyBzaW1wbGUgY29uZGl0aW9uYWwgdG8gbWF0Y2ggdGhlIERPTSBlbGVtZW50IHRvIHRoZSBhcGkgSURcbiAgaWYgKGUuaWQgPT0gJ2pzQ2F0UGFya3MnKSB7XG4gICAgY2hvc2VuUmFkaXVzID0gJzIwMDAnO1xuICAgIGNob3NlbkNhdGVnb3J5ID0gJzRiZjU4ZGQ4ZDQ4OTg4ZDE2Mzk0MTczNSc7XG4gICAgY3JlYXRlU2VhcmNoUmVxdWVzdFVSSShjaG9zZW5SYWRpdXMsIGNob3NlbkNhdGVnb3J5KTtcblxuICB9IGVsc2UgaWYgKGUuaWQgPT0gJ2pzQ2F0QmVhY2hlcycpIHtcbiAgICBjaG9zZW5SYWRpdXMgPSAnMjAwMCc7XG4gICAgY2hvc2VuQ2F0ZWdvcnkgPSAnNGJmNThkZDhkNDg5ODhkMWUyOTQxNzM1JztcbiAgICBjcmVhdGVTZWFyY2hSZXF1ZXN0VVJJKGNob3NlblJhZGl1cywgY2hvc2VuQ2F0ZWdvcnkpO1xuXG4gIH0gZWxzZSBpZiAoZS5pZCA9PSAnanNDYXRMb29rb3V0cycpIHtcbiAgICBjaG9zZW5SYWRpdXMgPSAnMjAwMCc7XG4gICAgY2hvc2VuQ2F0ZWdvcnkgPSAnNGJmNThkZDhkNDg5ODhkMTY1OTQxNzM1JztcbiAgICBjcmVhdGVTZWFyY2hSZXF1ZXN0VVJJKGNob3NlblJhZGl1cywgY2hvc2VuQ2F0ZWdvcnkpO1xuICB9XG59XG5cblxuLy8gU3RlcCAzIC0gQ3JlYXRlIHRoZSBzZWFyY2ggcXVlcnkgcmVxdWVzdCB1cmlcbmZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFJlcXVlc3RVUkkocmFkLCBjYXQpIHtcbiAgY29uc3QgYmFzZVVSSSA9ICdodHRwczovL2FwaS5mb3Vyc3F1YXJlLmNvbS92Mi92ZW51ZXMvc2VhcmNoP3Y9MjAxNzA5MDEnO1xuICAvLyBjb25zdCBjbGllbnRfaWQgPSAnJmNsaWVudF9pZD0nICsgJ1E1UFFRTlRKUzRVR00xMEkxUldPRFVWQzRYUzJQQlVMQkRZWktGTEFGRUNKNFpJTSc7XG4gIC8vIGNvbnN0IGNsaWVudF9zZWNyZXQgPSAnJmNsaWVudF9zZWNyZXQ9JyArICc0VE1UWE1CNExMMzVPM0dSMVFYT05OQkFKNU9DR1pVTzVITFdBUVFHU0hIUFpaVjInO1xuICBjb25zdCBsYXRsb25nID0gJyZsbD0nICsgJy0zNi44Nzg2NDk5LDE3NC43NjAyNzk4JztcbiAgLy8gVGhpcyB2YWx1ZSB3aWxsIGJlIGEgdmFyaWFibGVcbiAgY29uc3QgcmFkaXVzID0gJyZyYWRpdXM9JyArIHJhZDtcbiAgLy8gVGhpcyB2YWx1ZSB3aWxsIGJlIGEgdmFyaWFibGVcbiAgY29uc3QgY2F0ZWdvcnlJZCA9ICcmY2F0ZWdvcnlJZD0nICsgY2F0O1xuICAvLyBQdXQgYWxsIHRoZSBwaWVjZXMgdG9nZXRoZXJcbiAgY29uc3QgcmVxdWVzdFVSSSA9IGJhc2VVUkkgKyBjbGllbnRfaWQgKyBjbGllbnRfc2VjcmV0ICsgbGF0bG9uZyArIHJhZGl1cyArIGNhdGVnb3J5SWQ7XG4gIFxuICBtYWtlU2VhcmNoUmVxdWVzdChyZXF1ZXN0VVJJKTtcbn1cblxuXG4vLyBTdGVwIDQgLSBNYWtlIHRoZSBhY3R1YWwgcmVxdWVzdFxuZnVuY3Rpb24gbWFrZVNlYXJjaFJlcXVlc3QodXJpKSB7XG4gIGZldGNoKHVyaSlcbiAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uKG15SnNvbikge1xuICAgICAgZXh0cmFjdE5lZWRlZERhdGEobXlKc29uLnJlc3BvbnNlLnZlbnVlcyk7XG4gICAgICAvL2NvbnNvbGUubG9nKG15SnNvbi5yZXNwb25zZS52ZW51ZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAvLyBDb2RlIGZvciBoYW5kbGluZyBlcnJvcnNcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9KTtcbn1cblxuXG4vLyBTdGVwIDUgLSBFeHRyYWN0IHRoZSBkYXRhIHdlIGFyZSB1c2luZyBmcm9tIHRoZSBqc29uIHJlc3BvbnNlXG5mdW5jdGlvbiBleHRyYWN0TmVlZGVkRGF0YShkYXRhKSB7XG5cbiAgLy8gZGVjbGFyZSBlbXB0eSBhcnJheVxuICBjb25zdCB2ZW51ZXNGb3JNYXAgPSBbXTtcblxuICAvLyBMb29wIHRocm91Z2gganNvbiByZXNwb25zZVxuICBkYXRhLmZvckVhY2godmVudWUgPT4ge1xuXG4gICAgLy8gUHVzaCB0aGUgbmFtZSwgSUQsIGFuZCBsYXRsbmcgaW50byBhbiBhcnJheSB0byB1c2UgZm9yIHRoZSBtYXBcbiAgICB2ZW51ZXNGb3JNYXAucHVzaCh7XG4gICAgICBuYW1lOiB2ZW51ZS5uYW1lLFxuICAgICAgaWQ6IHZlbnVlLmlkLFxuICAgICAgbGF0bG5nOiBcbiAgICAgICAgW1xuICAgICAgICAgIHZlbnVlLmxvY2F0aW9uLmxhdCxcbiAgICAgICAgICB2ZW51ZS5sb2NhdGlvbi5sbmdcbiAgICAgICAgXVxuICAgICAgXG4gICAgfSk7XG4gIH0pO1xuXG4gIGNyZWF0ZU1hcCh2ZW51ZXNGb3JNYXApO1xufVxuXG5cblxuXG4gIFxuLy8gVGltJ3Mgd29yayBTVEFSVFxuLy8gQ2F0ZWdvcmllczpcbi8vIFBhcmtzOiA0YmY1OGRkOGQ0ODk4OGQxNjM5NDE3MzVcbi8vIEJlYWNoZXM6IDRiZjU4ZGQ4ZDQ4OTg4ZDFlMjk0MTczNVxuLy8gUG9vbHM6IDRiZjU4ZGQ4ZDQ4OTg4ZDE1ZTk0MTczNVxuLy8gU2NlbmljIExvb2tvdXQ6IDRiZjU4ZGQ4ZDQ4OTg4ZDE2NTk0MTczNVxuLy8gU2thdGUgUGFyazogNGJmNThkZDhkNDg5ODhkMTY3OTQxNzM1XG5cblxuLy8gSWRlbnRpZmllcnNcbi8vIEV2ZXJ5IElEIHByZWZpeGVkIHdpdGggJ2pzJyBpcyBhIERPTSBlbGVtZW50XG5jb25zdCBqc0NhdERyb3Bkb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzQ2F0RHJvcGRvd24nKTtcbmNvbnN0IGpzQ2F0VHJlbmRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNDYXRUcmVuZGluZycpO1xuY29uc3QganNDYXRQYXJrcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc0NhdFBhcmtzJyk7XG5jb25zdCBqc0NhdEJlYWNoZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNDYXRCZWFjaGVzJyk7XG5jb25zdCBqc0NhdExvb2tvdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzQ2F0TG9va291dHMnKTtcbi8vIHRoaXMgbmVlZHMgdG8gYmUgYSBnbG9iYWwgdmFyaWFibGUgaW4gb3JkZXIgdG8gYWNjZXNzIGl0IGZyb20gZGlmZmVyZW50IGZ1bmN0aW9uc1xubGV0IG15bWFwO1xubGV0IHpvb20gPSAwO1xuLy8gVGltJ3Mgd29yayBFTkRcblxuXG4vLyBMb3VlbGxhJ3MgV29yayBTVEFSVCAtIE1vZGFsIHBvcCB1cFxuY29uc3QganNNb2RhbExvbmdUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc01vZGFsTG9uZ1RpdGxlJyk7XG5jb25zdCBqc1ZlbnVlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNWZW51ZURlc2NyaXB0aW9uJyk7XG5jb25zdCBqc1ZlbnVlV2Vic2l0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc1ZlbnVlV2Vic2l0ZScpO1xuY29uc3QganNNaW5pTWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzTWluaU1hcCcpO1xuLy8gTG91ZWxsYSdzIFdvcmsgRU5EIC0gTW9kYWwgcG9wIHVwXG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcIkRPTSByZWFkeSFcIik7XG5cbiAgLy8gaWRlbnRpZnkgdGhlIGV2ZW50IHRhcmdldFxuICBqc0NhdERyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZGVudGlmeUNhdGVnb3J5KGUudGFyZ2V0KTtcbiAgfSk7XG5cbiAgLy8gTG9hZCB0aGUgZW1wdHkgbWFwIG9uIHBhZ2UgbG9hZFxuICBjcmVhdGVJbml0aWFsTWFwKCk7XG59KTtcblxuXG4vLyBEZXRlY3Qgc2NyZWVuIHdpZHRoIGFuZCBjaGFuZ2Ugem9vbSBhY2NvcmRpbmdseSAtIGJ5IE5pa2l0YVxuZnVuY3Rpb24gZGV0ZWN0U2NyZWVuV2lkdGgoKSB7XG5cbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgbGV0IHpvb20gPSAxMDtcbiAgICBjb25zb2xlLmxvZygnc2NyZWVuIHNpemUgaXMgbGVzcyB0aGFuIDc2OHB4Jyk7XG4gICAgcmV0dXJuIHpvb207XG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IHpvb20gPSAxMTtcbiAgICBjb25zb2xlLmxvZygnc2NyZWVuIHNpemUgaXMgbGVzcyB0aGFuIDc2OHB4Jyk7XG4gICAgcmV0dXJuIHpvb207XG4gIH07XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlSW5pdGlhbE1hcCgpIHtcblxuICAvLyBkZXRlY3Qgc2NyZWVuIHNpemVcbiAgbGV0IHogPSBkZXRlY3RTY3JlZW5XaWR0aCgpO1xuXG4gIC8vIE1hcCB3b3JrIGJ5IE5pa2l0YSBTVEFSVFxuICBsZXQgY2VudGVyID0gWy0zNi44OTc3OTMxLCAxNzQuNzg1NDk3M107XG4gIG15bWFwID0gTC5tYXAoJ21hcGlkJykuc2V0VmlldyhjZW50ZXIsIHopO1xuXG4gIEwudGlsZUxheWVyKCdodHRwczovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3tpZH0ve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj1way5leUoxSWpvaWRHaGhiSGw0T1RBaUxDSmhJam9pWTJvMllqZHJaSFJsTVdKbVlqSnliRGQyY1cxclluVm5OU0o5LmpfRFFMZml4SGZoaW9Wakg2cW1xa3cnLCB7XG4gICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL1wiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgPGEgaHJlZj1cImh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjAvXCI+Q0MtQlktU0E8L2E+LCBJbWFnZXJ5IMKpIDxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL1wiPk1hcGJveDwvYT4nLFxuICAgIG1heFpvb206IDE4LFxuICAgIGlkOiAnbWFwYm94LnN0cmVldHMnLFxuICAgIGFjY2Vzc1Rva2VuOiAncGsuZXlKMUlqb2libWxyYVhSaGFHOXBibVZ6SWl3aVlTSTZJbU5xYzIwM2NITjVOREV3YUdnME9YQnBZbkUwYVhoaFptWWlmUS41OGw4ZFVaZzR1aUZuN0JZblpDSkZBJ1xufSkuYWRkVG8obXltYXApO1xuXG4vLyByYWRpdXNcbkwuY2lyY2xlKGNlbnRlciwge1xuXHRcdHJhZGl1czogMjE1MDAsXG5cdFx0Y29sb3I6ICdzYWxtb24nLFxuXHRcdHdlaWdodDogMSxcblx0XHRmaWxsOiB0cnVlXG5cdH0pLmFkZFRvKG15bWFwKTtcbi8vIE1hcCB3b3JrIGJ5IE5pa2l0YSBFTkRcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwKHYpIHtcblxuICAvLyBkZXRlY3Qgc2NyZWVuIHNpemVcbiAgbGV0IHogPSBkZXRlY3RTY3JlZW5XaWR0aCgpO1xuXG4gIC8vIHJlbW92ZSBwcmV2aW91c2x5IGxvYWRlZCBtYXAgZmlyc3RcbiAgaWYobXltYXApIHtcbiAgICBteW1hcC5yZW1vdmUoKTtcbiAgfVxuXG4gIC8vIE1hcCB3b3JrIGJ5IE5pa2l0YSBTVEFSVFxuICBsZXQgY2VudGVyID0gWy0zNi44OTc3OTMxLCAxNzQuNzg1NDk3M107XG4gICBteW1hcCA9IEwubWFwKCdtYXBpZCcpLnNldFZpZXcoY2VudGVyLCB6KTtcblxuICBMLnRpbGVMYXllcignaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97aWR9L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2lkR2hoYkhsNE9UQWlMQ0poSWpvaVkybzJZamRyWkhSbE1XSm1Zakp5YkRkMmNXMXJZblZuTlNKOS5qX0RRTGZpeEhmaGlvVmpINnFtcWt3Jywge1xuICAgIGF0dHJpYnV0aW9uOiAnTWFwIGRhdGEgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9cIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsIDxhIGhyZWY9XCJodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvMi4wL1wiPkNDLUJZLVNBPC9hPiwgSW1hZ2VyeSDCqSA8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIj5NYXBib3g8L2E+JyxcbiAgICBtYXhab29tOiAxOCxcbiAgICBpZDogJ21hcGJveC5zdHJlZXRzJyxcbiAgICBhY2Nlc3NUb2tlbjogJ3BrLmV5SjFJam9pYm1scmFYUmhhRzlwYm1Weklpd2lZU0k2SW1OcWMyMDNjSE41TkRFd2FHZzBPWEJwWW5FMGFYaGhabVlpZlEuNThsOGRVWmc0dWlGbjdCWW5aQ0pGQSdcbiAgfSkuYWRkVG8obXltYXApO1xuXG4gIC8vIHJhZGl1c1xuICBMLmNpcmNsZShjZW50ZXIsIHtcbiAgICByYWRpdXM6IDIxNTAwLFxuICAgIGNvbG9yOiAnc2FsbW9uJyxcbiAgICB3ZWlnaHQ6IDEsXG4gICAgZmlsbDogdHJ1ZVxuICB9KS5hZGRUbyhteW1hcCk7XG5cbiAgLy8gbmlraXRhIC0gcHV0dGluZyBtYXJrZXJzIG9uIHRoZSBtYXBcbiAgdi5mb3JFYWNoKGZ1bmN0aW9uICh2ZW51ZSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VydmljZUljb24gPSBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnLi4vYnVpbGQvaW1nL3Bpbi5zdmcnLFxuICAgICAgICBpY29uU2l6ZTogWzcyLCA3Ml0sXG4gICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLTM2XVxuICAgICAgfSk7XG4gICAgICB2YXIgbWFya2VyID0gTC5tYXJrZXIodmVudWUubGF0bG5nLCB7IGljb246IHNlcnZpY2VJY29uIH0pLmFkZFRvKG15bWFwKTtcbiAgICAgIG1hcmtlci5iaW5kUG9wdXAoJzxkaXY+JyArIHZlbnVlLm5hbWUgKyAnPC9kaXY+JylcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9KTtcblxuICAgLy9Mb3VlbGxhXG4gICBtb2RhbCgpO1xuXG59XG5cbi8vV29yayBmcm9tIExvdWVsbGFcblxuLy8gZm91cnNxdWFyZSBPYXV0aFxuLy8gY29uc3QgdmVyc2lvbiA9ICc/dj0yMDE3MDkwMSc7XG4vLyBjb25zdCBjbGllbnRpZCA9ICcmY2xpZW50X2lkPUpTQkNMVUtTQUczQkQwRDFCT0lSTkFFTUtXVFFZMFA0MDFMSkNZRVRRUVhCUzNXMCc7XG4vLyBjb25zdCBjbGllbnRTZWNyZXQgPSAnJmNsaWVudF9zZWNyZXQ9SFNSUFJTUDFTUUpXVEczTk4yRU9CUENBU0hPNTJTQk9VNFpQRlhPSlBaWUlMM0RLJztcbi8vIGNvbnN0IGtleSA9IHZlcnNpb24gKyBjbGllbnRpZCArIGNsaWVudFNlY3JldDtcblxuLy8gY29uc3QgdmVudWVJZCA9ICc1OWE0NTkyMTM1MWUzZDQzYjA3MDI4YjUnO1xuLy8gY29uc3QgdmVudWVVcmwgPSAnaHR0cHM6Ly9hcGkuZm91cnNxdWFyZS5jb20vdjIvdmVudWVzLycgKyB2ZW51ZUlkO1xuXG5cbi8vIExvYWQgbW9kYWxcbmZ1bmN0aW9uIG1vZGFsKCkge1xuICAgICQoJyNtb2RhbENlbnRlcicpLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gSW5zZXJ0IE1pbmkgbWFwXG4gICAgICAgIC8vIGh0dHBzOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UtMS4wLjAuaHRtbFxuICAgICAgICBsZXQgdXNlckxvY2F0aW9uID0gWy0zNi44OTc3OTMxLCAxNzQuNzg1NDk3M107XG4gICAgICAgIGxldCBtaW5pTWFwID0gTC5tYXAoJ2pzTWluaU1hcCcsIHtcbiAgICAgICAgICAgIHNjcm9sbFdoZWVsWm9vbTogZmFsc2VcbiAgICAgICAgfSkuc2V0Vmlldyh1c2VyTG9jYXRpb24sIDE3KTtcblxuICAgICAgICBMLnRpbGVMYXllcignaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97aWR9L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49e2FjY2Vzc1Rva2VufScsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnTWFwIGRhdGEgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9cIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsIDxhIGhyZWY9XCJodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvMi4wL1wiPkNDLUJZLVNBPC9hPiwgSW1hZ2VyeSDCqSA8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIj5NYXBib3g8L2E+JyxcbiAgICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgICAgaWQ6ICdtYXBib3guc3RyZWV0cycsXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogJ3BrLmV5SjFJam9pYm1scmFYUmhhRzlwYm1Weklpd2lZU0k2SW1OcWMyMDNjSE41TkRFd2FHZzBPWEJwWW5FMGFYaGhabVlpZlEuNThsOGRVWmc0dWlGbjdCWW5aQ0pGQSdcbiAgICAgICAgfSkuYWRkVG8obWluaU1hcCk7XG4gICAgfSk7XG59XG5cbi8vIExvYWQgQ2Fyb3VzZWxcbiQoJy5jYXJvdXNlbCcpLmNhcm91c2VsKCk7XG5cblxuLy8gQWpheCByZXF1ZXN0IHRvIGEgc3BlY2lmaWMgdmVudWVcbi8vIGxldCB2ZW51ZVVybCA9ICdodHRwczovL2FwaS5mb3Vyc3F1YXJlLmNvbS92Mi92ZW51ZXMvZXhwbG9yZScgKyBrZXkgKyAnJmxsPS0zNi44NDQ2MTUyODczMDU1ICwgMTc0Ljc2NjYyMzk3Mzg0NjQ0JyArICcmcmFkaXVzPTYwJztcbi8vICQuYWpheCh7XG5cbi8vIFx0dXJsOiB2ZW51ZVVybCxcbi8vIFx0ZGF0YVR5cGU6ICdqc29ucCcsXG5cbi8vIFx0Ly8gbGV0J3Mgc2hvdyBhIGxpdHRsZSBwcmVsb2FkZXIgdG8gdGhlIHVzZXIgd2hpbGUgdGhleSB3YWl0IGZvciBhIG5pY2UgVXNlciBFeHBlcmllbmNlXG4vLyBcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHJlcykge1xuLy8gXHRcdCQoJzxkaXYgY2xhc3M9XCJwcmUtbG9hZGVyXCI+IC4uLiBsb2FkaW5nIHBvcnRmb2xpbyAuLi4gPC9kaXY+JykucHJlcGVuZFRvKCdib2R5Jyk7XG4vLyBcdH0sXG5cbi8vIFx0Ly8gd2hlbiB0aGUgYWpheCByZXF1ZXN0IGlzIGNvbXBsZXRlIGRvIGFsbCBvZiB0aGVzZSB0aGluZ3Ncbi8vIFx0c3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG5cbi8vIFx0XHRjb25zb2xlLmxvZyhyZXMpO1xuXG4vLyBcdFx0Ly8gU3VjY2VzcyEgV2UgY2FuIGdldCByaWQgb2YgdGhlIHByZWxvYWRlciBub3cuLi5cbi8vIFx0XHQkKCcucHJlLWxvYWRlcicpLmRldGFjaCgpO1xuXG5cbi8vIFx0fSxcblxuLy8gXHQvLyBpZiB0aGUgYWpheCByZXF1ZXN0IGZhaWxzIGRvIHRoZXNlIHRoaW5ncyBhcyBhIGZhbGxiYWNrXG4vLyBcdGVycm9yOiBmdW5jdGlvbihyZXMpIHtcbi8vIFx0XHQkKCc8aDE+IEVycm9yISEgPC9oMT4nKS5hcHBlbmRUbygnYm9keScpO1xuLy8gXHR9XG5cbi8vIH0pOyAvLyBFTkQgYWpheCByZXF1ZXN0XG4iXX0=
