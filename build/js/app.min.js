const client_id="&client_id=Q5PQQNTJS4UGM10I1RWODUVC4XS2PBULBDYZKFLAFECJ4ZIM",client_secret="&client_secret=4TMTXMB4LL35O3GR1QXONNBAJ5OCGZUO5HLWAQQGSHHPZZV2";function identifyCategory(e){let t='0',o='0';'jsCatParks'==e.id?createSearchRequestURI(t='2000',o='4bf58dd8d48988d163941735'):'jsCatBeaches'==e.id?createSearchRequestURI(t='2000',o='4bf58dd8d48988d1e2941735'):'jsCatLookouts'==e.id&&createSearchRequestURI(t='2000',o='4bf58dd8d48988d165941735')}function createSearchRequestURI(e,t){makeSearchRequest('https://api.foursquare.com/v2/venues/search?v=20170901'+client_id+client_secret+"&ll=-36.8786499,174.7602798"+('&radius='+e)+('&categoryId='+t))}function makeSearchRequest(e){fetch(e).then(function(e){return e.json()}).then(function(e){extractNeededData(e.response.venues)}).catch(function(){console.log('Houston we have a problem...')})}function extractNeededData(e){const t=[];e.forEach(e=>{t.push({name:e.name,lat:e.location.lat,lng:e.location.lng})}),console.log(t)}const jsCatDropdown=document.getElementById('jsCatDropdown'),jsCatTrending=document.getElementById('jsCatTrending'),jsCatParks=document.getElementById('jsCatParks'),jsCatBeaches=document.getElementById('jsCatBeaches'),jsCatLookouts=document.getElementById('jsCatLookouts'),jsToolTipButton=document.getElementById('#modalCenter'),jsModalLongTitle=document.getElementById('jsModalLongTitle'),jsVenueDescription=document.getElementById('jsVenueDescription'),jsVenueWebsite=document.getElementById('jsVenueWebsite'),jsMiniMap=document.getElementById('jsMiniMap');function createMap(e){jsCatDropdown.addEventListener('click',e=>{identifyCategory(e.target)});let t=[-36.8977931,174.7854973],o=L.map('mapid').setView(t,e);L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidGhhbHl4OTAiLCJhIjoiY2o2YjdrZHRlMWJmYjJybDd2cW1rYnVnNSJ9.j_DQLfixHfhioVjH6qmqkw',{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:'mapbox.streets',accessToken:'pk.eyJ1IjoibmlraXRhaG9pbmVzIiwiYSI6ImNqc203cHN5NDEwaGg0OXBpYnE0aXhhZmYifQ.58l8dUZg4uiFn7BYnZCJFA'}).addTo(o),L.circle(t,{radius:21500,color:'salmon',weight:1,fill:!0}).addTo(o),modal()}$(function(){if($(window).width()<768){let e=10;console.log('less than 768'),createMap(e)}else{let e=11;console.log('more than 768'),createMap(e)}});const version='?v=20170901',key=version+client_id+client_secret,venueId='59a45921351e3d43b07028b5',venueUrl='https://api.foursquare.com/v2/venues/'+venueId;function modal(){$('#modalCenter').on('shown.bs.modal',function(){let e=L.map('jsMiniMap',{scrollWheelZoom:!1}).setView([-36.8977931,174.7854973],17);L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:'mapbox.streets',accessToken:'pk.eyJ1IjoibmlraXRhaG9pbmVzIiwiYSI6ImNqc203cHN5NDEwaGg0OXBpYnE0aXhhZmYifQ.58l8dUZg4uiFn7BYnZCJFA'}).addTo(e)})}marker.on('click',function(){let e='https://api.foursquare.com/v2/venues/'+this.venueid+key;$.ajax({url:e,dataType:'jsonp',success:function(e){if(console.log(e),$('.modal-title').text(e.response.venue.name),$('.modal-body').empty(),void 0!==e.response.venue.description&&$('.modal-body').append('<p class="description">'+e.response.venue.description+'</p>'),e.response.venue.photos.groups.length>0){var t=e.response.venue.bestPhoto.prefix,o=e.response.venue.bestPhoto.suffix;$('<img src='+t+'100x100'+o+'>').appendTo('.modal-body')}$('.modal-body').append('<p class="likes"><span class="bold">Likes:</span> '+e.response.venue.likes.count+'</p>'),void 0!==e.response.venue.contact.phone&&$('.modal-body').append('<p class="phone"><span class="bold">Phone:</span> '+e.response.venue.contact.phone+'</p>'),$('.modal-body').append('<p class="address">'+e.response.venue.location.address+', '+e.response.venue.location.city+'</p>'),$('#myModal').modal('show')}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiY2xpZW50X2lkIiwiY2xpZW50X3NlY3JldCIsImlkZW50aWZ5Q2F0ZWdvcnkiLCJlIiwiY2hvc2VuUmFkaXVzIiwiY2hvc2VuQ2F0ZWdvcnkiLCJpZCIsImNyZWF0ZVNlYXJjaFJlcXVlc3RVUkkiLCJyYWQiLCJjYXQiLCJtYWtlU2VhcmNoUmVxdWVzdCIsInVyaSIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsIm15SnNvbiIsImV4dHJhY3ROZWVkZWREYXRhIiwidmVudWVzIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsInZlbnVlc0Zvck1hcCIsImZvckVhY2giLCJ2ZW51ZSIsInB1c2giLCJuYW1lIiwibGF0IiwibG9jYXRpb24iLCJsbmciLCJqc0NhdERyb3Bkb3duIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImpzQ2F0VHJlbmRpbmciLCJqc0NhdFBhcmtzIiwianNDYXRCZWFjaGVzIiwianNDYXRMb29rb3V0cyIsImpzVG9vbFRpcEJ1dHRvbiIsImpzTW9kYWxMb25nVGl0bGUiLCJqc1ZlbnVlRGVzY3JpcHRpb24iLCJqc1ZlbnVlV2Vic2l0ZSIsImpzTWluaU1hcCIsImNyZWF0ZU1hcCIsInoiLCJhZGRFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY2VudGVyIiwibXltYXAiLCJMIiwibWFwIiwic2V0VmlldyIsInRpbGVMYXllciIsImF0dHJpYnV0aW9uIiwibWF4Wm9vbSIsImFjY2Vzc1Rva2VuIiwiYWRkVG8iLCJjaXJjbGUiLCJyYWRpdXMiLCJjb2xvciIsIndlaWdodCIsImZpbGwiLCJtb2RhbCIsIiQiLCJ3aW5kb3ciLCJ3aWR0aCIsInpvb20iLCJ2ZXJzaW9uIiwia2V5IiwidmVudWVJZCIsInZlbnVlVXJsIiwib24iLCJtaW5pTWFwIiwic2Nyb2xsV2hlZWxab29tIiwibWFya2VyIiwidGhpcyIsInZlbnVlaWQiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwicmVzIiwidGV4dCIsImVtcHR5IiwidW5kZWZpbmVkIiwiZGVzY3JpcHRpb24iLCJhcHBlbmQiLCJwaG90b3MiLCJncm91cHMiLCJsZW5ndGgiLCJwaG90b1ByZWZpeCIsImJlc3RQaG90byIsInByZWZpeCIsInBob3RvU3VmZml4Iiwic3VmZml4IiwiYXBwZW5kVG8iLCJsaWtlcyIsImNvdW50IiwiY29udGFjdCIsInBob25lIiwiYWRkcmVzcyIsImNpdHkiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU1BLFVBQVksOERBQ1pDLGNBQWdCLGtFQVV0QixTQUFTQyxpQkFBaUJDLEdBRXhCLElBQUlDLEVBQWUsSUFDZkMsRUFBaUIsSUFFVCxjQUFSRixFQUFFRyxHQUdKQyx1QkFGQUgsRUFBZSxPQUNmQyxFQUFpQiw0QkFHQSxnQkFBUkYsRUFBRUcsR0FHWEMsdUJBRkFILEVBQWUsT0FDZkMsRUFBaUIsNEJBR0EsaUJBQVJGLEVBQUVHLElBR1hDLHVCQUZBSCxFQUFlLE9BQ2ZDLEVBQWlCLDRCQU9yQixTQUFTRSx1QkFBdUJDLEVBQUtDLEdBWW5DQyxrQkFYZ0IseURBU2FWLFVBQVlDLGNBTnpCLCtCQUVELFdBQWFPLElBRVQsZUFBaUJDLElBU3RDLFNBQVNDLGtCQUFrQkMsR0FDekJDLE1BQU1ELEdBQ0hFLEtBQUssU0FBU0MsR0FDYixPQUFPQSxFQUFTQyxTQUVqQkYsS0FBSyxTQUFTRyxHQUNiQyxrQkFBa0JELEVBQU9GLFNBQVNJLFVBSW5DQyxNQUFNLFdBRUxDLFFBQVFDLElBQUksa0NBTWxCLFNBQVNKLGtCQUFrQkssR0FHekIsTUFBTUMsRUFBZSxHQUVyQkQsRUFBS0UsUUFBUUMsSUFFWEYsRUFBYUcsS0FBSyxDQUNoQkMsS0FBTUYsRUFBTUUsS0FDWkMsSUFBS0gsRUFBTUksU0FBU0QsSUFDcEJFLElBQUtMLEVBQU1JLFNBQVNDLFFBSXhCVixRQUFRQyxJQUFJRSxHQWdCZCxNQUFNUSxjQUFnQkMsU0FBU0MsZUFBZSxpQkFDeENDLGNBQWdCRixTQUFTQyxlQUFlLGlCQUN4Q0UsV0FBYUgsU0FBU0MsZUFBZSxjQUNyQ0csYUFBZUosU0FBU0MsZUFBZSxnQkFDdkNJLGNBQWdCTCxTQUFTQyxlQUFlLGlCQUt4Q0ssZ0JBQWtCTixTQUFTQyxlQUFlLGdCQUMxQ00saUJBQW1CUCxTQUFTQyxlQUFlLG9CQUMzQ08sbUJBQXFCUixTQUFTQyxlQUFlLHNCQUM3Q1EsZUFBaUJULFNBQVNDLGVBQWUsa0JBQ3pDUyxVQUFZVixTQUFTQyxlQUFlLGFBcUIxQyxTQUFTVSxVQUFVQyxHQUduQmIsY0FBY2MsaUJBQWlCLFFBQVUxQyxJQUN2Q0QsaUJBQWlCQyxFQUFFMkMsVUFLckIsSUFBSUMsRUFBUyxFQUFFLFdBQVksYUFDdkJDLEVBQVFDLEVBQUVDLElBQUksU0FBU0MsUUFBUUosRUFBUUgsR0FFM0NLLEVBQUVHLFVBQVUsK0pBQWdLLENBQ3hLQyxZQUFhLDBOQUNiQyxRQUFTLEdBQ1RoRCxHQUFJLGlCQUNKaUQsWUFBYSxxR0FDZEMsTUFBTVIsR0FHVEMsRUFBRVEsT0FBT1YsRUFBUSxDQUNmVyxPQUFRLE1BQ1JDLE1BQU8sU0FDUEMsT0FBUSxFQUNSQyxNQUFNLElBQ0pMLE1BQU1SLEdBTVZjLFFBaERBQyxFQUFFLFdBS0QsR0FBSUEsRUFBRUMsUUFBUUMsUUFBVSxJQUFLLENBQ3pCLElBQUlDLEVBQU8sR0FDWDlDLFFBQVFDLElBQUksaUJBQ1pzQixVQUFVdUIsT0FFVCxDQUNGLElBQUlBLEVBQU8sR0FDWDlDLFFBQVFDLElBQUksaUJBQ1pzQixVQUFVdUIsTUEyQ2QsTUFBTUMsUUFBVSxjQUNWQyxJQUFNRCxRQUFVbkUsVUFBWUMsY0FFNUJvRSxRQUFVLDJCQUNWQyxTQUFXLHdDQUEwQ0QsUUFHM0QsU0FBU1AsUUFDTEMsRUFBRSxnQkFBZ0JRLEdBQUcsaUJBQWtCLFdBS25DLElBQ0lDLEVBQVV2QixFQUFFQyxJQUFJLFlBQWEsQ0FDN0J1QixpQkFBaUIsSUFDbEJ0QixRQUhnQixFQUFFLFdBQVksYUFHUixJQUV6QkYsRUFBRUcsVUFBVSxrRkFBbUYsQ0FDM0ZDLFlBQWEsME5BQ2JDLFFBQVMsR0FDVGhELEdBQUksaUJBQ0ppRCxZQUFhLHFHQUNkQyxNQUFNZ0IsS0FRakJFLE9BQU9ILEdBQUcsUUFBUyxXQUNmLElBQUlELEVBQVcsd0NBQTBDSyxLQUFLQyxRQUFVUixJQUd4RUwsRUFBRWMsS0FBSyxDQUVIQyxJQUFLUixFQUNMUyxTQUFVLFFBRVZDLFFBQVMsU0FBVUMsR0FlZixHQVpBN0QsUUFBUUMsSUFBSTRELEdBRVpsQixFQUFFLGdCQUFnQm1CLEtBQUtELEVBQUluRSxTQUFTVyxNQUFNRSxNQUcxQ29DLEVBQUUsZUFBZW9CLGFBRXNCQyxJQUFuQ0gsRUFBSW5FLFNBQVNXLE1BQU00RCxhQUNuQnRCLEVBQUUsZUFBZXVCLE9BQU8sMEJBQTRCTCxFQUFJbkUsU0FBU1csTUFBTTRELFlBQWMsUUFJckZKLEVBQUluRSxTQUFTVyxNQUFNOEQsT0FBT0MsT0FBT0MsT0FBUyxFQUFHLENBQzdDLElBQUlDLEVBQWNULEVBQUluRSxTQUFTVyxNQUFNa0UsVUFBVUMsT0FDM0NDLEVBQWNaLEVBQUluRSxTQUFTVyxNQUFNa0UsVUFBVUcsT0FDL0MvQixFQUFFLFlBQWMyQixFQUFjLFVBQVlHLEVBQWMsS0FBS0UsU0FBUyxlQUcxRWhDLEVBQUUsZUFBZXVCLE9BQU8scURBQXVETCxFQUFJbkUsU0FBU1csTUFBTXVFLE1BQU1DLE1BQVEsYUFFdkViLElBQXJDSCxFQUFJbkUsU0FBU1csTUFBTXlFLFFBQVFDLE9BQzNCcEMsRUFBRSxlQUFldUIsT0FBTyxxREFBdURMLEVBQUluRSxTQUFTVyxNQUFNeUUsUUFBUUMsTUFBUSxRQUd0SHBDLEVBQUUsZUFBZXVCLE9BQU8sc0JBQXdCTCxFQUFJbkUsU0FBU1csTUFBTUksU0FBU3VFLFFBQVUsS0FBT25CLEVBQUluRSxTQUFTVyxNQUFNSSxTQUFTd0UsS0FBTyxRQUdoSXRDLEVBQUUsWUFBWUQsTUFBTSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRm91cnNxdWFyZSBBUEkgQ3JlZGVudGlhbHMgLSBUaW1cbmNvbnN0IGNsaWVudF9pZCA9ICcmY2xpZW50X2lkPScgKyAnUTVQUVFOVEpTNFVHTTEwSTFSV09EVVZDNFhTMlBCVUxCRFlaS0ZMQUZFQ0o0WklNJztcbmNvbnN0IGNsaWVudF9zZWNyZXQgPSAnJmNsaWVudF9zZWNyZXQ9JyArICc0VE1UWE1CNExMMzVPM0dSMVFYT05OQkFKNU9DR1pVTzVITFdBUVFHU0hIUFpaVjInO1xuXG4vLyAvLyBGb3Vyc3F1YXJlIEFQSSBDcmVkZW50aWFscyAtIE5pa2l0YVxuLy8gY29uc3QgY2xpZW50X2lkID0gJyZjbGllbnRfaWQ9JyArICcyRjFKRUJHQlhXVUNDSzFWUzVPWkFGVDJCRUxSMTVPQ1ZPQlJERVZDSkZLUU5ER00nO1xuLy8gY29uc3QgY2xpZW50X3NlY3JldCA9ICcmY2xpZW50X3NlY3JldD0nICsgJ1VJSzJCT0pGWjFPRVpKUkJJTVczNVNPR1JCMUxGRVRKVldJQ0JBVkJFNEpKVkNKUCc7XG5cbi8vIC8vIEZvdXJzcXVhcmUgQVBJIENyZWRlbnRpYWxzIC0gTG91ZWxsYVxuLy8gY29uc3QgY2xpZW50X2lkID0gJyZjbGllbnRfaWQ9JyArICdKU0JDTFVLU0FHM0JEMEQxQk9JUk5BRU1LV1RRWTBQNDAxTEpDWUVUUVFYQlMzVzAnO1xuLy8gY29uc3QgY2xpZW50X3NlY3JldCA9ICcmY2xpZW50X3NlY3JldD0nICsgJ0hTUlBSU1AxU1FKV1RHM05OMkVPQlBDQVNITzUyU0JPVTRaUEZYT0pQWllJTDNESyc7XG4vLyBTdGVwIDIgLSBMaW5rIHRoZSBodG1sIGVsZW1lbnQgdG8gdGhlIGZvdXJzcXVhcmUgY2F0ZWdvcnkgSURcbmZ1bmN0aW9uIGlkZW50aWZ5Q2F0ZWdvcnkoZSkge1xuICAvLyBkZWNsYXJlIHZhcmlhYmxlc1xuICBsZXQgY2hvc2VuUmFkaXVzID0gJzAnO1xuICBsZXQgY2hvc2VuQ2F0ZWdvcnkgPSAnMCc7XG4gIC8vIHNpbXBsZSBjb25kaXRpb25hbCB0byBtYXRjaCB0aGUgRE9NIGVsZW1lbnQgdG8gdGhlIGFwaSBJRFxuICBpZiAoZS5pZCA9PSAnanNDYXRQYXJrcycpIHtcbiAgICBjaG9zZW5SYWRpdXMgPSAnMjAwMCc7XG4gICAgY2hvc2VuQ2F0ZWdvcnkgPSAnNGJmNThkZDhkNDg5ODhkMTYzOTQxNzM1JztcbiAgICBjcmVhdGVTZWFyY2hSZXF1ZXN0VVJJKGNob3NlblJhZGl1cywgY2hvc2VuQ2F0ZWdvcnkpO1xuXG4gIH0gZWxzZSBpZiAoZS5pZCA9PSAnanNDYXRCZWFjaGVzJykge1xuICAgIGNob3NlblJhZGl1cyA9ICcyMDAwJztcbiAgICBjaG9zZW5DYXRlZ29yeSA9ICc0YmY1OGRkOGQ0ODk4OGQxZTI5NDE3MzUnO1xuICAgIGNyZWF0ZVNlYXJjaFJlcXVlc3RVUkkoY2hvc2VuUmFkaXVzLCBjaG9zZW5DYXRlZ29yeSk7XG5cbiAgfSBlbHNlIGlmIChlLmlkID09ICdqc0NhdExvb2tvdXRzJykge1xuICAgIGNob3NlblJhZGl1cyA9ICcyMDAwJztcbiAgICBjaG9zZW5DYXRlZ29yeSA9ICc0YmY1OGRkOGQ0ODk4OGQxNjU5NDE3MzUnO1xuICAgIGNyZWF0ZVNlYXJjaFJlcXVlc3RVUkkoY2hvc2VuUmFkaXVzLCBjaG9zZW5DYXRlZ29yeSk7XG4gIH1cbn1cblxuXG4vLyBTdGVwIDMgLSBDcmVhdGUgdGhlIHNlYXJjaCBxdWVyeSByZXF1ZXN0IHVyaVxuZnVuY3Rpb24gY3JlYXRlU2VhcmNoUmVxdWVzdFVSSShyYWQsIGNhdCkge1xuICBjb25zdCBiYXNlVVJJID0gJ2h0dHBzOi8vYXBpLmZvdXJzcXVhcmUuY29tL3YyL3ZlbnVlcy9zZWFyY2g/dj0yMDE3MDkwMSc7XG4gIC8vIGNvbnN0IGNsaWVudF9pZCA9ICcmY2xpZW50X2lkPScgKyAnUTVQUVFOVEpTNFVHTTEwSTFSV09EVVZDNFhTMlBCVUxCRFlaS0ZMQUZFQ0o0WklNJztcbiAgLy8gY29uc3QgY2xpZW50X3NlY3JldCA9ICcmY2xpZW50X3NlY3JldD0nICsgJzRUTVRYTUI0TEwzNU8zR1IxUVhPTk5CQUo1T0NHWlVPNUhMV0FRUUdTSEhQWlpWMic7XG4gIGNvbnN0IGxhdGxvbmcgPSAnJmxsPScgKyAnLTM2Ljg3ODY0OTksMTc0Ljc2MDI3OTgnO1xuICAvLyBUaGlzIHZhbHVlIHdpbGwgYmUgYSB2YXJpYWJsZVxuICBjb25zdCByYWRpdXMgPSAnJnJhZGl1cz0nICsgcmFkO1xuICAvLyBUaGlzIHZhbHVlIHdpbGwgYmUgYSB2YXJpYWJsZVxuICBjb25zdCBjYXRlZ29yeUlkID0gJyZjYXRlZ29yeUlkPScgKyBjYXQ7XG4gIC8vIFB1dCBhbGwgdGhlIHBpZWNlcyB0b2dldGhlclxuICBjb25zdCByZXF1ZXN0VVJJID0gYmFzZVVSSSArIGNsaWVudF9pZCArIGNsaWVudF9zZWNyZXQgKyBsYXRsb25nICsgcmFkaXVzICsgY2F0ZWdvcnlJZDtcbiAgXG4gIG1ha2VTZWFyY2hSZXF1ZXN0KHJlcXVlc3RVUkkpO1xufVxuXG5cbi8vIFN0ZXAgNCAtIE1ha2UgdGhlIGFjdHVhbCByZXF1ZXN0XG5mdW5jdGlvbiBtYWtlU2VhcmNoUmVxdWVzdCh1cmkpIHtcbiAgZmV0Y2godXJpKVxuICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24obXlKc29uKSB7XG4gICAgICBleHRyYWN0TmVlZGVkRGF0YShteUpzb24ucmVzcG9uc2UudmVudWVzKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKG15SnNvbi5yZXNwb25zZS52ZW51ZXMpO1xuICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobXlKc29uKSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAvLyBDb2RlIGZvciBoYW5kbGluZyBlcnJvcnNcbiAgICAgIGNvbnNvbGUubG9nKCdIb3VzdG9uIHdlIGhhdmUgYSBwcm9ibGVtLi4uJyk7XG4gICAgfSk7XG59XG5cblxuLy8gU3RlcCA1IC0gRXh0cmFjdCB0aGUgZGF0YSB3ZSBhcmUgdXNpbmcgZnJvbSB0aGUganNvbiByZXNwb25zZVxuZnVuY3Rpb24gZXh0cmFjdE5lZWRlZERhdGEoZGF0YSkge1xuXG4gIC8vIGRlY2xhcmUgZW1wdHkgYXJyYXlcbiAgY29uc3QgdmVudWVzRm9yTWFwID0gW107XG4gIC8vIExvb3AgdGhyb3VnaCBqc29uIHJlc3BvbnNlXG4gIGRhdGEuZm9yRWFjaCh2ZW51ZSA9PiB7XG4gICAgLy8gUHVzaCB0aGUgdmFsdWVzIHdlIG5lZWQgaW50byBhbiBhcnJheSB0byB1c2UgZm9yIHRoZSBtYXBcbiAgICB2ZW51ZXNGb3JNYXAucHVzaCh7XG4gICAgICBuYW1lOiB2ZW51ZS5uYW1lLFxuICAgICAgbGF0OiB2ZW51ZS5sb2NhdGlvbi5sYXQsXG4gICAgICBsbmc6IHZlbnVlLmxvY2F0aW9uLmxuZ1xuICAgIH0pO1xuICB9KTtcblxuICBjb25zb2xlLmxvZyh2ZW51ZXNGb3JNYXApO1xufVxuXG5cbiAgXG4vLyBUaW0ncyB3b3JrIFNUQVJUXG4vLyBDYXRlZ29yaWVzOlxuLy8gUGFya3M6IDRiZjU4ZGQ4ZDQ4OTg4ZDE2Mzk0MTczNVxuLy8gQmVhY2hlczogNGJmNThkZDhkNDg5ODhkMWUyOTQxNzM1XG4vLyBQb29sczogNGJmNThkZDhkNDg5ODhkMTVlOTQxNzM1XG4vLyBTY2VuaWMgTG9va291dDogNGJmNThkZDhkNDg5ODhkMTY1OTQxNzM1XG4vLyBTa2F0ZSBQYXJrOiA0YmY1OGRkOGQ0ODk4OGQxNjc5NDE3MzVcblxuXG4vLyBJZGVudGlmaWVyc1xuLy8gRXZlcnkgSUQgcHJlZml4ZWQgd2l0aCAnanMnIGlzIGEgRE9NIGVsZW1lbnRcbmNvbnN0IGpzQ2F0RHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNDYXREcm9wZG93bicpO1xuY29uc3QganNDYXRUcmVuZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc0NhdFRyZW5kaW5nJyk7XG5jb25zdCBqc0NhdFBhcmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzQ2F0UGFya3MnKTtcbmNvbnN0IGpzQ2F0QmVhY2hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc0NhdEJlYWNoZXMnKTtcbmNvbnN0IGpzQ2F0TG9va291dHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNDYXRMb29rb3V0cycpO1xuLy8gVGltJ3Mgd29yayBFTkRcblxuXG4vLyBMb3VlbGxhJ3MgV29yayBTVEFSVCAtIE1vZGFsIHBvcCB1cFxuY29uc3QganNUb29sVGlwQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJyNtb2RhbENlbnRlcicpO1xuY29uc3QganNNb2RhbExvbmdUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc01vZGFsTG9uZ1RpdGxlJyk7XG5jb25zdCBqc1ZlbnVlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanNWZW51ZURlc2NyaXB0aW9uJyk7XG5jb25zdCBqc1ZlbnVlV2Vic2l0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqc1ZlbnVlV2Vic2l0ZScpO1xuY29uc3QganNNaW5pTWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzTWluaU1hcCcpO1xuLy8gTG91ZWxsYSdzIFdvcmsgRU5EIC0gTW9kYWwgcG9wIHVwXG5cblxuJChmdW5jdGlvbigpe1xuXG4vLyBEZXRlY3Qgc2NyZWVuIHdpZHRoIGFuZCBjaGFuZ2Ugem9vbSBhY2NvcmRpbmdseSAtIGJ5IE5pa2l0YVxuXHRsZXQgem9vbSA9IDExO1xuXG5cdGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xuICAgXHRcdGxldCB6b29tID0gMTA7XG4gICBcdFx0Y29uc29sZS5sb2coJ2xlc3MgdGhhbiA3NjgnKTtcbiAgIFx0XHRjcmVhdGVNYXAoem9vbSk7XG5cdH1cblx0ZWxzZSB7XG5cdCAgIGxldCB6b29tID0gMTE7XG5cdCAgIGNvbnNvbGUubG9nKCdtb3JlIHRoYW4gNzY4Jyk7XG5cdCAgIGNyZWF0ZU1hcCh6b29tKTtcblx0fTtcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVNYXAoeikge1xuXG4gIC8vIGlkZW50aWZ5IHRoZSBldmVudCB0YXJnZXRcbmpzQ2F0RHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBpZGVudGlmeUNhdGVnb3J5KGUudGFyZ2V0KTtcbn0pO1xuXG5cbi8vIE1hcCB3b3JrIGJ5IE5pa2l0YSBTVEFSVFxubGV0IGNlbnRlciA9IFstMzYuODk3NzkzMSwgMTc0Ljc4NTQ5NzNdO1xubGV0IG15bWFwID0gTC5tYXAoJ21hcGlkJykuc2V0VmlldyhjZW50ZXIsIHopO1xuXG5MLnRpbGVMYXllcignaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97aWR9L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2lkR2hoYkhsNE9UQWlMQ0poSWpvaVkybzJZamRyWkhSbE1XSm1Zakp5YkRkMmNXMXJZblZuTlNKOS5qX0RRTGZpeEhmaGlvVmpINnFtcWt3Jywge1xuICAgIGF0dHJpYnV0aW9uOiAnTWFwIGRhdGEgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9cIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsIDxhIGhyZWY9XCJodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvMi4wL1wiPkNDLUJZLVNBPC9hPiwgSW1hZ2VyeSDCqSA8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIj5NYXBib3g8L2E+JyxcbiAgICBtYXhab29tOiAxOCxcbiAgICBpZDogJ21hcGJveC5zdHJlZXRzJyxcbiAgICBhY2Nlc3NUb2tlbjogJ3BrLmV5SjFJam9pYm1scmFYUmhhRzlwYm1Weklpd2lZU0k2SW1OcWMyMDNjSE41TkRFd2FHZzBPWEJwWW5FMGFYaGhabVlpZlEuNThsOGRVWmc0dWlGbjdCWW5aQ0pGQSdcbn0pLmFkZFRvKG15bWFwKTtcblxuLy8gcmFkaXVzXG5MLmNpcmNsZShjZW50ZXIsIHtcblx0XHRyYWRpdXM6IDIxNTAwLFxuXHRcdGNvbG9yOiAnc2FsbW9uJyxcblx0XHR3ZWlnaHQ6IDEsXG5cdFx0ZmlsbDogdHJ1ZVxuXHR9KS5hZGRUbyhteW1hcCk7XG5cbi8vIE1hcCB3b3JrIGJ5IE5pa2l0YSBFTkRcblxuXG4vL0xvdWVsbGFcbm1vZGFsKCk7XG5cbiAgXG59O1xuXG4vL1dvcmsgZnJvbSBMb3VlbGxhXG5cbi8vIGZvdXJzcXVhcmUgT2F1dGhcbmNvbnN0IHZlcnNpb24gPSAnP3Y9MjAxNzA5MDEnO1xuY29uc3Qga2V5ID0gdmVyc2lvbiArIGNsaWVudF9pZCArIGNsaWVudF9zZWNyZXQ7XG5cbmNvbnN0IHZlbnVlSWQgPSAnNTlhNDU5MjEzNTFlM2Q0M2IwNzAyOGI1JztcbmNvbnN0IHZlbnVlVXJsID0gJ2h0dHBzOi8vYXBpLmZvdXJzcXVhcmUuY29tL3YyL3ZlbnVlcy8nICsgdmVudWVJZDtcblxuLy8gTG9hZCBtb2RhbFxuZnVuY3Rpb24gbW9kYWwoKSB7XG4gICAgJCgnI21vZGFsQ2VudGVyJykub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvL0FkZCB2ZW51ZSBkZXRhaWxzIHRocm91Z2ggQVBJIGNhbGxcblxuICAgICAgICAvLyBJbnNlcnQgTWluaSBtYXBcbiAgICAgICAgLy8gaHR0cHM6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS0xLjAuMC5odG1sXG4gICAgICAgIGxldCB1c2VyTG9jYXRpb24gPSBbLTM2Ljg5Nzc5MzEsIDE3NC43ODU0OTczXTtcbiAgICAgICAgbGV0IG1pbmlNYXAgPSBMLm1hcCgnanNNaW5pTWFwJywge1xuICAgICAgICAgICAgc2Nyb2xsV2hlZWxab29tOiBmYWxzZVxuICAgICAgICB9KS5zZXRWaWV3KHVzZXJMb2NhdGlvbiwgMTcpO1xuXG4gICAgICAgIEwudGlsZUxheWVyKCdodHRwczovL2FwaS50aWxlcy5tYXBib3guY29tL3Y0L3tpZH0ve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj17YWNjZXNzVG9rZW59Jywge1xuICAgICAgICAgICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL1wiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgPGEgaHJlZj1cImh0dHBzOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjAvXCI+Q0MtQlktU0E8L2E+LCBJbWFnZXJ5IMKpIDxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL1wiPk1hcGJveDwvYT4nLFxuICAgICAgICAgICAgbWF4Wm9vbTogMTgsXG4gICAgICAgICAgICBpZDogJ21hcGJveC5zdHJlZXRzJyxcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiAncGsuZXlKMUlqb2libWxyYVhSaGFHOXBibVZ6SWl3aVlTSTZJbU5xYzIwM2NITjVOREV3YUdnME9YQnBZbkUwYVhoaFptWWlmUS41OGw4ZFVaZzR1aUZuN0JZblpDSkZBJ1xuICAgICAgICB9KS5hZGRUbyhtaW5pTWFwKTtcblxuICAgIH0pO1xufVxuXG4vLyBBamF4IHJlcXVlc3QgdG8gYSBzcGVjaWZpYyB2ZW51ZVxuXG4vLyBPbiBDbGljayBvZiBlYWNoIG1hcmtlciAtIG1ha2UgQUpBWCByZXF1ZXN0IGZvciBNYXJrZXJzIFZlbnVlIGRhdGFcbm1hcmtlci5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHZlbnVlVXJsID0gJ2h0dHBzOi8vYXBpLmZvdXJzcXVhcmUuY29tL3YyL3ZlbnVlcy8nICsgdGhpcy52ZW51ZWlkICsga2V5O1xuXG4gICAgLy8gYWpheCByZXF1ZXN0IGZvciBlYWNoIHZlbnVlIGRhdGFcbiAgICAkLmFqYXgoe1xuXG4gICAgICAgIHVybDogdmVudWVVcmwsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcblxuICAgICAgICAgICAgLy8gRXhwb3NlIGRhdGEgb2YgVkVOVUUgd2UganVzdCBDTElDS0VEXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuXG4gICAgICAgICAgICAkKCcubW9kYWwtdGl0bGUnKS50ZXh0KHJlcy5yZXNwb25zZS52ZW51ZS5uYW1lKTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIvcmVzZXQgbW9kYWwgYm9keSBjb3B5IHNvIGl0J3MgZW1wdHksIGJlZm9yZSB3ZSBhZGQgbmV3IGRhdGFcbiAgICAgICAgICAgICQoJy5tb2RhbC1ib2R5JykuZW1wdHkoKTtcblxuICAgICAgICAgICAgaWYgKHJlcy5yZXNwb25zZS52ZW51ZS5kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJCgnLm1vZGFsLWJvZHknKS5hcHBlbmQoJzxwIGNsYXNzPVwiZGVzY3JpcHRpb25cIj4nICsgcmVzLnJlc3BvbnNlLnZlbnVlLmRlc2NyaXB0aW9uICsgJzwvcD4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9Db25zdHJ1Y3QgbW9kYWwvXG4gICAgICAgICAgICBpZiAocmVzLnJlc3BvbnNlLnZlbnVlLnBob3Rvcy5ncm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwaG90b1ByZWZpeCA9IHJlcy5yZXNwb25zZS52ZW51ZS5iZXN0UGhvdG8ucHJlZml4O1xuICAgICAgICAgICAgICAgIHZhciBwaG90b1N1ZmZpeCA9IHJlcy5yZXNwb25zZS52ZW51ZS5iZXN0UGhvdG8uc3VmZml4O1xuICAgICAgICAgICAgICAgICQoJzxpbWcgc3JjPScgKyBwaG90b1ByZWZpeCArICcxMDB4MTAwJyArIHBob3RvU3VmZml4ICsgJz4nKS5hcHBlbmRUbygnLm1vZGFsLWJvZHknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCgnLm1vZGFsLWJvZHknKS5hcHBlbmQoJzxwIGNsYXNzPVwibGlrZXNcIj48c3BhbiBjbGFzcz1cImJvbGRcIj5MaWtlczo8L3NwYW4+ICcgKyByZXMucmVzcG9uc2UudmVudWUubGlrZXMuY291bnQgKyAnPC9wPicpO1xuXG4gICAgICAgICAgICBpZiAocmVzLnJlc3BvbnNlLnZlbnVlLmNvbnRhY3QucGhvbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICQoJy5tb2RhbC1ib2R5JykuYXBwZW5kKCc8cCBjbGFzcz1cInBob25lXCI+PHNwYW4gY2xhc3M9XCJib2xkXCI+UGhvbmU6PC9zcGFuPiAnICsgcmVzLnJlc3BvbnNlLnZlbnVlLmNvbnRhY3QucGhvbmUgKyAnPC9wPicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKCcubW9kYWwtYm9keScpLmFwcGVuZCgnPHAgY2xhc3M9XCJhZGRyZXNzXCI+JyArIHJlcy5yZXNwb25zZS52ZW51ZS5sb2NhdGlvbi5hZGRyZXNzICsgJywgJyArIHJlcy5yZXNwb25zZS52ZW51ZS5sb2NhdGlvbi5jaXR5ICsgJzwvcD4nKTtcblxuICAgICAgICAgICAgLy8gTm93IHRvZ2dsZSB0aGUgTW9kYWxcbiAgICAgICAgICAgICQoJyNteU1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgfSAvLyBFbmQgU3VjY2Vzc1xuXG4gICAgfSk7IC8vIEVORCBBSkFYIHJlcXVlc3QgZm9yIHZlbnVlIGRhdGFcblxufSk7IC8vIEVORCBtYXJrZXIgY2xpY2sgZnVuY3Rpb25cblxuXG5cbiJdfQ==
